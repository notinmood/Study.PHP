
# 匿名函数

匿名函数是指没有函数名的函数，也就是说，函数没有名字，只能通过其他函数或者方法来调用。匿名函数的语法如下：

```
function ($arg1, $arg2, ...) use ($var1, $var2, ...) {
    // 函数体
}
```

1. `$arg1, $arg2, ...`：函数参数，可以有多个参数。
2. `use ($var1, $var2, ...)`：使用到的外部变量，可以有多个变量。
3. 函数体：函数的主体部分，可以有任意代码。

举个例子：

```
$sum = function ($a, $b) {
    return $a + $b;
};

echo $sum(1, 2); // 输出 3
```

上面的代码定义了一个匿名函数，函数没有名字，参数为`$a`和`$b`，函数体为`$a + $b`，并将其赋值给`$sum`变量。

调用匿名函数时，可以直接使用变量`$sum`来调用，比如：

```
$sum = function ($a, $b) {
    return $a + $b;
};

$result = $sum(1, 2); // 输出 3

$result = $sum(3, 4); // 输出 7
```

# 闭包

闭包是指一个函数内部定义了另一个函数，并且这个函数使用了外部变量，这个函数就叫做闭包。而PHP匿名函数恰恰可以通过以下方式获得访问外部变量的能力：
- use(var1,var2...)访问到外部变量；
- Closure::bind($closure, $object, $scope)将匿名函数绑定到一个类或者对象上，而获得访问这个类或者对象上变量的能力；
因此，在PHP中，匿名函数和闭包是同一个概念。

# 匿名函数和箭头函数
箭头函数是PHP 7.4版本引入的新语法，它允许使用简洁的语法来创建匿名函数。箭头函数的语法如下：

```
fn($arg1, $arg2, ...) => $expression
```

1. `$arg1, $arg2, ...`：函数参数，可以有多个参数。
2. `=> $expression`：函数体，可以有任意表达式。

举个例子：

```
$sum = fn($a, $b) => $a + $b;

echo $sum(1, 2); // 输出 3
```

上面的代码定义了一个箭头函数，函数参数为`$a`和`$b`，函数体为`$a + $b`，并将其赋值给`$sum`变量。

调用匿名函数时，可以直接使用变量`$sum`来调用，比如：

```
$sum = fn($a, $b) => $a + $b;

$result = $sum(1, 2); // 输出 3

$result = $sum(3, 4); // 输出 7
```

# 匿名函数和闭包的关系
在其他语言中，匿名函数和闭包是两个概念。但在PHP中，匿名函数和闭包基本上是同一个概念。

